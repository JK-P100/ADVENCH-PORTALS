{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      agent: {},\n      editableAgent: {},\n      isEditing: false,\n      drawer: false,\n      civilStatusOptions: ['Single', 'Married', 'Widowed', 'Separated', 'Divorced'],\n      educationOptions: ['High School Graduate', 'College Graduate', 'Vocational', 'Post Graduate', 'Others'],\n      positionOptions: ['Sales Agent', 'Sales Manager', 'Broker', 'Admin', 'Other'],\n      drawerItems: [{\n        title: 'DASHBOARD',\n        icon: 'mdi-account-group',\n        to: '/dashboard'\n      }, {\n        title: 'CLIENT TRACKING',\n        icon: 'mdi-account-group',\n        to: '/clients'\n      }, {\n        title: 'AGENT RECORDS',\n        icon: 'mdi-account-tie',\n        to: '/agent'\n      }, {\n        title: 'COMMS. MGMT.',\n        icon: 'mdi-message-text-outline',\n        to: '/commission-management'\n      }, {\n        title: 'SALES TRACKING',\n        icon: 'mdi-chart-line',\n        to: '/sales-tracking'\n      }, {\n        title: 'PROPERTY LISTING',\n        icon: 'mdi-home-city-outline',\n        to: {\n          name: 'PropertyListing'\n        }\n      }]\n    };\n  },\n  created() {\n    const agentId = this.$route.params.id;\n    this.fetchAgentDetails(agentId);\n  },\n  methods: {\n    fetchAgentDetails(agentId) {\n      axios.get(`http://localhost:3000/api/agents/${agentId}`).then(response => {\n        this.agent = response.data;\n        this.editableAgent = {\n          ...response.data\n        };\n      }).catch(error => {\n        console.error('Error fetching agent details:', error);\n      });\n    },\n    toggleEdit() {\n      this.isEditing = true;\n      this.editableAgent = {\n        ...this.agent\n      };\n    },\n    saveEdit() {\n      axios.put(`http://localhost:3000/api/agents/${this.agent.id}`, this.editableAgent).then(() => {\n        this.agent = {\n          ...this.editableAgent\n        };\n        this.isEditing = false;\n      }).catch(error => {\n        alert('Failed to update agent.');\n        console.error('Error updating agent:', error);\n      });\n    },\n    logout() {\n      localStorage.removeItem('isAuthenticated');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["axios","data","agent","editableAgent","isEditing","drawer","civilStatusOptions","educationOptions","positionOptions","drawerItems","title","icon","to","name","created","agentId","$route","params","id","fetchAgentDetails","methods","get","then","response","catch","error","console","toggleEdit","saveEdit","put","alert","logout","localStorage","removeItem","$router","push"],"sources":["C:\\Users\\jann kevin\\Desktop\\ADVENCH PORTALS\\frontend\\src\\components\\AgentDetails.vue"],"sourcesContent":["<template>\n  <v-app>\n    <!-- Navigation Drawer -->\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      app\n      color=\"#f5f5f5\"\n      width=\"260\"\n      class=\"elevation-3 rounded-drawer\"\n    >\n      <!-- Logo and App Name -->\n      <v-sheet color=\"white\" class=\"pa-4 d-flex align-center\" elevation=\"0\">\n        <img src=\"../assets/logo.png\" alt=\"Advench Realty Logo\" style=\"max-width: 48px; margin-bottom: 10; margin-right: 12px;\" />\n        <div>\n          <div class=\"font-weight-bold\" style=\"color:#388e3c;\">ADVЕNCH</div>\n          <div class=\"text-caption\" style=\"color:#757575;\">REALTY</div>\n        </div>\n        <v-spacer></v-spacer>\n        <v-btn icon @click=\"drawer = false\">\n          <v-icon color=\"grey darken-2\">mdi-close</v-icon>\n        </v-btn>\n      </v-sheet>\n      <v-divider></v-divider>\n      <!-- Navigation List -->\n      <v-list dense nav>\n        <v-list-item\n          v-for=\"item in drawerItems\"\n          :key=\"item.title\"\n          :to=\"item.to\"\n          link\n          class=\"drawer-link\"\n          active-class=\"drawer-link--active\"\n          @click=\"drawer = false\"\n        >\n          <v-list-item-icon>\n            <v-icon :color=\"item.iconColor || 'green darken-2'\">{{ item.icon }}</v-icon>\n          </v-list-item-icon>\n          <v-list-item-title class=\"ml-2\">{{ item.title }}</v-list-item-title>\n        </v-list-item>\n      </v-list>\n      <v-divider class=\"my-2\"></v-divider>\n      <v-list dense>\n        <v-list-item link @click=\"logout\" class=\"drawer-link\">\n          <v-list-item-icon>\n            <v-icon color=\"red darken-1\">mdi-logout</v-icon>\n          </v-list-item-icon>\n          <v-list-item-title class=\"ml-2\">LOGOUT</v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n\n    <v-main>\n      <v-container fluid class=\"pa-0\" style=\"max-width: 85vw; margin: 0 auto;\">\n        <!-- Top Navigation Row (matches AgentRecords.vue) -->\n        <v-row align=\"center\" justify=\"space-between\" class=\"px-4 mt-4\">\n          <v-col cols=\"auto\" class=\"d-flex align-center\">\n            <img src=\"../assets/logo.png\" alt=\"Advench Realty Logo\" style=\"max-width: 60px; margin-right: 12px;\" />\n            <div>\n              <h2 class=\"text-h6 font-weight-bold mb-0\">ADVЕNCH REALTY</h2>\n              <p class=\"text-subtitle-2 mb-0\">AND DEVELOPMENT CO.</p>\n            </div>\n          </v-col>\n          <v-col cols=\"auto\">\n            <v-btn icon @click=\"drawer = true\">\n              <v-icon color=\"green darken-4\">mdi-menu</v-icon>\n            </v-btn>\n          </v-col>\n        </v-row>\n\n        <!-- Profile Card -->\n        <v-card class=\"mb-6 pa-4 profile-card\">\n          <v-row align=\"center\" justify=\"space-between\" class=\"px-4 mb-8 mt-4\">\n            <v-col cols=\"auto\">\n              <v-avatar size=\"80\">\n                <v-icon size=\"80\" color=\"grey lighten-2\">mdi-account</v-icon>\n              </v-avatar>\n            </v-col>\n            <v-col>\n              <div class=\"profile-title\">\n                <span v-if=\"!isEditing\">{{ agent.first_name }} {{ agent.last_name }}</span>\n                <span v-else>\n                  <v-text-field v-model=\"editableAgent.first_name\" label=\"First Name\" dense hide-details style=\"max-width: 120px; display: inline-block;\" />\n                  <v-text-field v-model=\"editableAgent.last_name\" label=\"Last Name\" dense hide-details style=\"max-width: 120px; display: inline-block;\" />\n                </span>\n              </div>\n              <div class=\"profile-subtitle\">\n                <span v-if=\"!isEditing\">{{ agent.position }}</span>\n                <v-select\n                  v-else\n                  v-model=\"editableAgent.position\"\n                  :items=\"positionOptions\"\n                  label=\"Position\"\n                  dense\n                  hide-details\n                  style=\"max-width: 160px;\"\n                ></v-select>\n              </div>\n              <div class=\"profile-location\">\n                <span v-if=\"!isEditing\">{{ agent.address }}</span>\n                <v-text-field v-else v-model=\"editableAgent.address\" label=\"Address\" dense hide-details style=\"max-width: 200px;\" />\n              </div>\n            </v-col>\n            <v-col cols=\"auto\">\n              <v-btn icon color=\"primary\" v-if=\"isEditing\" @click=\"saveEdit\">\n                <v-icon>mdi-content-save</v-icon>\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-card>\n\n        <!-- Personal Information Card -->\n        <v-card class=\"mb-6 pa-6\">\n          <div class=\"d-flex align-center mb-4\">\n            <span class=\"section-title mr-2\" style=\"color:#26a69a;\">Personal Information</span>\n          </div>\n          <v-row>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">First Name</div>\n              <div v-if=\"!isEditing\">{{ agent.first_name }}</div>\n              <v-text-field v-else v-model=\"editableAgent.first_name\" dense hide-details></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">Last Name</div>\n              <div v-if=\"!isEditing\">{{ agent.last_name }}</div>\n              <v-text-field v-else v-model=\"editableAgent.last_name\" dense hide-details></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">Middle Name</div>\n              <div v-if=\"!isEditing\">{{ agent.middle_name }}</div>\n              <v-text-field v-else v-model=\"editableAgent.middle_name\" dense hide-details></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">Date of Birth</div>\n              <div v-if=\"!isEditing\">{{ agent.dob }}</div>\n              <v-text-field\n                v-else\n                v-model=\"editableAgent.dob\"\n                label=\"Date of Birth\"\n                type=\"date\"\n                dense\n                hide-details\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">Address</div>\n              <div v-if=\"!isEditing\">{{ agent.address }}</div>\n              <v-text-field v-else v-model=\"editableAgent.address\" dense hide-details></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">Civil Status</div>\n              <div v-if=\"!isEditing\">{{ agent.civil_status }}</div>\n              <v-select\n                v-else\n                v-model=\"editableAgent.civil_status\"\n                :items=\"civilStatusOptions\"\n                label=\"Civil Status\"\n                dense\n                hide-details\n              ></v-select>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">Educational Attainment</div>\n              <div v-if=\"!isEditing\">{{ agent.educational_attainment }}</div>\n              <v-select\n                v-else\n                v-model=\"editableAgent.educational_attainment\"\n                :items=\"educationOptions\"\n                label=\"Educational Attainment\"\n                dense\n                hide-details\n              ></v-select>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <div class=\"label\">Position</div>\n              <div v-if=\"!isEditing\">{{ agent.position }}</div>\n              <v-select\n                v-else\n                v-model=\"editableAgent.position\"\n                :items=\"positionOptions\"\n                label=\"Position\"\n                dense\n                hide-details\n              ></v-select>\n            </v-col>\n          </v-row>\n        </v-card>\n        <div class=\"d-flex justify-end mb-8\">\n          <v-btn color=\"primary\" @click=\"toggleEdit\" small v-if=\"!isEditing\">\n            Edit\n          </v-btn>\n          <v-btn color=\"primary\" @click=\"saveEdit\" small v-else>\n            Save\n          </v-btn>\n        </div>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      agent: {},\n      editableAgent: {},\n      isEditing: false,\n      drawer: false,\n      civilStatusOptions: [\n        'Single',\n        'Married',\n        'Widowed',\n        'Separated',\n        'Divorced',\n      ],\n      educationOptions: [\n        'High School Graduate',\n        'College Graduate',\n        'Vocational',\n        'Post Graduate',\n        'Others',\n      ],\n      positionOptions: [\n        'Sales Agent',\n        'Sales Manager',\n        'Broker',\n        'Admin',\n        'Other',\n      ],\n      drawerItems: [\n        { title: 'DASHBOARD', icon: 'mdi-account-group', to: '/dashboard' },\n        { title: 'CLIENT TRACKING', icon: 'mdi-account-group', to: '/clients' },\n        { title: 'AGENT RECORDS', icon: 'mdi-account-tie', to: '/agent' },\n        { title: 'COMMS. MGMT.', icon: 'mdi-message-text-outline', to: '/commission-management' },\n        { title: 'SALES TRACKING', icon: 'mdi-chart-line', to: '/sales-tracking' },\n        { title: 'PROPERTY LISTING', icon: 'mdi-home-city-outline', to: { name: 'PropertyListing' } },\n      ],\n    };\n  },\n  created() {\n    const agentId = this.$route.params.id;\n    this.fetchAgentDetails(agentId);\n  },\n  methods: {\n    fetchAgentDetails(agentId) {\n      axios\n        .get(`http://localhost:3000/api/agents/${agentId}`)\n        .then((response) => {\n          this.agent = response.data;\n          this.editableAgent = { ...response.data };\n        })\n        .catch((error) => {\n          console.error('Error fetching agent details:', error);\n        });\n    },\n    toggleEdit() {\n      this.isEditing = true;\n      this.editableAgent = { ...this.agent };\n    },\n    saveEdit() {\n      axios\n        .put(`http://localhost:3000/api/agents/${this.agent.id}`, this.editableAgent)\n        .then(() => {\n          this.agent = { ...this.editableAgent };\n          this.isEditing = false;\n        })\n        .catch((error) => {\n          alert('Failed to update agent.');\n          console.error('Error updating agent:', error);\n        });\n    },\n    logout() {\n      localStorage.removeItem('isAuthenticated');\n      this.$router.push('/login');\n    },\n  },\n};\n</script>\n\n<style>\n.profile-card {\n  border-radius: 14px;\n}\n.profile-title {\n  font-size: 1.6rem;\n  font-weight: 700;\n}\n.profile-subtitle {\n  color: #757575;\n  font-size: 1.1rem;\n}\n.profile-location {\n  color: #bdbdbd;\n  font-size: 1rem;\n}\n.section-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n.label {\n  color: #757575;\n  font-size: 0.95rem;\n  font-weight: 500;\n  margin-bottom: 2px;\n}\n.text-success {\n  color: #4CAF50;\n}\n.drawer-link {\n  transition: background-color 0.3s;\n}\n.drawer-link:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.drawer-link--active {\n  background-color: rgba(56, 142, 60, 0.1);\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}